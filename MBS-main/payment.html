<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineLux - Payment</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a0321 0%, #4a0a3c 50%, #1e0a24 100%);
            min-height: 100vh;
            color: #fff;
            position: relative;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 30px;
        }
        
        .logo {
            font-size: 32px;
            font-weight: 700;
            color: #fff;
            text-decoration: none;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
        }
        
        .logo i {
            margin-right: 10px;
            color: #ff3a8c;
        }
        
        .logo span {
            color: red;
        }
        
        .page-title {
            font-family: 'Poppins', sans-serif;
            font-size: 3rem;
            font-weight: 900;
            color: #ff69b4;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 5px 5px 15px rgba(255, 105, 180, 0.8), 
                        -5px -5px 15px rgba(255, 182, 193, 0.6);
            animation: glow 1s infinite alternate;
            text-align: center;
            margin: 0 auto;
            display: block;
            margin-bottom: 40px;
        }

        @keyframes glow {
            from {
                text-shadow: 0 0 10px rgba(255, 105, 180, 0.8),
                            0 0 20px rgba(255, 105, 180, 0.8),
                            0 0 30px rgba(255, 105, 180, 0.8);
            }
            to {
                text-shadow: 0 0 20px rgba(255, 105, 180, 0.8),
                            0 0 30px rgba(255, 105, 180, 0.8),
                            0 0 40px rgba(255, 105, 180, 0.8);
            }
        }
        
        .back-btn {
            display: inline-block;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 500;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(-5px);
        }

        .back-btn i {
            margin-right: 5px;
        }

        .payment-container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 30px;
        }

        .payment-details {
            flex: 1;
            min-width: 350px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .order-summary {
            flex: 1;
            min-width: 350px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .section-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 25px;
            color: #ff3a8c;
            position: relative;
            padding-bottom: 10px;
        }

        .section-title:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: linear-gradient(to right, #ff3a8c, #9340ff);
            border-radius: 3px;
        }

        /* Summary Group Styling */
        .summary-group {
            margin-bottom: 25px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .summary-group-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #ff69b4;
            display: flex;
            align-items: center;
        }

        .summary-group-title i {
            margin-right: 10px;
            font-size: 20px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .summary-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .summary-label {
            color: rgba(255, 255, 255, 0.8);
        }

        .summary-value {
            font-weight: 500;
        }

        .summary-snack-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .snack-name-qty {
            display: flex;
            flex-direction: column;
        }

        .snack-name {
            font-weight: 500;
        }

        .snack-qty {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
        }

        /* Payment Method Styling */
        .payment-methods {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 25px;
        }

        .payment-method {
            flex: 1;
            min-width: calc(50% - 8px);
            padding: 15px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
        }

        .payment-method:hover {
            background: rgba(255, 58, 140, 0.2);
            transform: translateY(-3px);
        }

        .payment-method.active {
            background: rgba(255, 58, 140, 0.3);
            border: 1px solid #ff3a8c;
            box-shadow: 0 5px 15px rgba(255, 58, 140, 0.3);
        }

        .payment-method-icon {
            font-size: 24px;
            margin-right: 12px;
            color: rgba(255, 255, 255, 0.9);
        }

        .payment-method-name {
            font-weight: 500;
        }

        .payment-method .check-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #ff3a8c;
            font-size: 18px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .payment-method.active .check-icon {
            opacity: 1;
        }

        /* Input Group Styling */
        .input-group {
            margin-bottom: 20px;
        }

        .input-label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
        }

        .input-field {
            width: 100%;
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .input-field:focus {
            background: rgba(255, 255, 255, 0.15);
            border-color: #ff3a8c;
            outline: none;
            box-shadow: 0 0 0 2px rgba(255, 58, 140, 0.3);
        }

        .input-field::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .input-row {
            display: flex;
            gap: 15px;
        }

        .input-row .input-group {
            flex: 1;
        }

        /* Card Animation */
        .card-animation {
            position: relative;
            height: 200px;
            perspective: 1000px;
            margin-bottom: 25px;
        }

        .card {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.8s;
            cursor: pointer;
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .card-front {
            background: linear-gradient(135deg, #2c0537 0%, #9340ff 100%);
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .card-back {
            background: linear-gradient(135deg, #9340ff 0%, #2c0537 100%);
            transform: rotateY(180deg);
            padding: 20px;
        }

        .card-chip {
            width: 50px;
            height: 40px;
            background: linear-gradient(135deg, #ffd700 0%, #ffaa00 100%);
            border-radius: 8px;
            position: relative;
            margin-bottom: 20px;
        }

        .card-chip:after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70%;
            height: 70%;
            background: linear-gradient(135deg, #ffaa00 0%, #ffd700 100%);
            border-radius: 4px;
        }

        .card-number {
            font-size: 22px;
            letter-spacing: 2px;
            margin-bottom: 20px;
            font-family: 'Courier New', monospace;
        }

        .card-info {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
        }

        .card-holder, .card-expiry {
            display: flex;
            flex-direction: column;
        }

        .card-holder-label, .card-expiry-label {
            font-size: 10px;
            text-transform: uppercase;
            opacity: 0.7;
            letter-spacing: 1px;
        }

        .card-holder-name, .card-expiry-date {
            font-size: 16px;
        }

        .card-back-stripe {
            background: #000;
            height: 50px;
            margin: 20px 0;
        }

        .card-cvv {
            background: #fff;
            color: #000;
            width: 90%;
            margin-left: auto;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            text-align: right;
            font-size: 16px;
        }

        .card-back-info {
            margin-top: 20px;
            font-size: 12px;
            text-align: center;
            opacity: 0.7;
        }

        /* Pay Button */
        .pay-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #ff3a8c 0%, #9340ff 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 10px 20px rgba(255, 58, 140, 0.3);
            margin-top: 20px;
        }

        .pay-btn:hover {
            background: linear-gradient(135deg, #9340ff 0%, #ff3a8c 100%);
            transform: translateY(-3px);
            box-shadow: 0 15px 25px rgba(255, 58, 140, 0.4);
        }

        .pay-btn:active {
            transform: translateY(1px);
        }

        /* Total Section */
        .total-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }

        .subtotal-row, .tax-row, .total-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .subtotal-label, .tax-label {
            color: rgba(255, 255, 255, 0.8);
        }

        .total-row {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }

        .total-label, .total-value {
            font-size: 22px;
            font-weight: 700;
            color: #ff3a8c;
        }

        /* Particle animation */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            pointer-events: none;
            animation: float 8s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0) translateX(0);
            }
            25% {
                transform: translateY(-30px) translateX(15px);
            }
            50% {
                transform: translateY(-15px) translateX(-15px);
            }
            75% {
                transform: translateY(-25px) translateX(5px);
            }
        }

        /* Success Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: linear-gradient(135deg, #2c0537 0%, #4a0a3c 100%);
            padding: 40px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transform: translateY(50px);
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        .modal.active .modal-content {
            transform: translateY(0);
            opacity: 1;
        }

        .success-icon {
            font-size: 80px;
            color: #4caf50;
            margin-bottom: 20px;
            animation: scale-up 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
            transform: scale(0);
        }

        @keyframes scale-up {
            0% {
                transform: scale(0);
            }
            70% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
            }
        }

        .success-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 15px;
            color: #fff;
        }

        .success-message {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 30px;
        }

        .success-details {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: left;
        }

        .success-detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .success-detail-label {
            color: rgba(255, 255, 255, 0.7);
        }

        .continue-btn {
            display: inline-block;
            padding: 12px 30px;
            background: linear-gradient(135deg, #ff3a8c 0%, #9340ff 100%);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .continue-btn:hover {
            background: linear-gradient(135deg, #9340ff 0%, #ff3a8c 100%);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(255, 58, 140, 0.3);
        }

        /* Media Queries */
        @media (max-width: 992px) {
            .payment-container {
                flex-direction: column;
            }
        }

        @media (max-width: 576px) {
            .input-row {
                flex-direction: column;
                gap: 0;
            }
            
            .page-title {
                font-size: 2.2rem;
            }
            
            .payment-method {
                min-width: 100%;
            }
            
            .card-number {
                font-size: 18px;
            }
        }

        /* Loading Animation */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .loading.active {
            opacity: 1;
            visibility: visible;
        }

        .loader {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 5px solid rgba(255, 255, 255, 0.1);
            border-top-color: #ff3a8c;
            animation: spin 1s infinite linear;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        /* Form Validation Styles */
        .input-field.error {
            border-color: #ff5252;
        }

        .error-message {
            color: #ff5252;
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }

        .error-message.visible {
            display: block;
        }
        
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="particles" id="particles"></div>
    
    < class="container">
        <header>
            <a href="#" class="logo">
                <i class="fas fa-film"></i>
                Cine<span>Lux</span>
            </a>
            <div class="nav-links">
                <!-- Navigation links can go here -->
            </div>
        </header>
        <h1 class="page-title">🎬 Complete Payment</h1>

        <div class="payment-container">
            <!-- Order Summary Section -->
            <div class="order-summary">
                <h2 class="section-title">Order Summary</h2>
                
                <!-- Movie Booking Summary -->
                <div class="summary-group">
                    <div class="summary-group-title">
                        <i class="fas fa-ticket-alt"></i> Movie Booking
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Movie:</div>
                        <div class="summary-value" id="summaryMovieTitle">Maidaan</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Date:</div>
                        <div class="summary-value" id="summaryDate">13 May, 2025</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Screen:</div>
                        <div class="summary-value" id="summaryScreen">Screen 3 (Standard)</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Time:</div>
                        <div class="summary-value" id="summaryTime">11:15 PM</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Seats:</div>
                        <div class="summary-value" id="summarySeats">5 Premium</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Ticket Price:</div>
                        <div class="summary-value" id="summaryTicketPrice">₹2500</div>
                    </div>
                   
                </div>
                
                <!-- Snacks Summary -->
                <div class="summary-group">
                    <div class="summary-group-title">
                        <i class="fas fa-utensils"></i> Snacks & Refreshments
                    </div>
                    <div id="snacksSummaryItems">
                        <!-- Snack items will be populated dynamically -->
                        <div class="summary-snack-item">
                            <div class="snack-name-qty">
                                <div class="snack-name">french fries</div>
                                <div class="snack-qty">x2</div>
                            </div>
                            <div class="summary-value">₹200</div>
                        </div>
                        <div class="summary-snack-item">
                            <div class="snack-name-qty">
                                <div class="snack-name">Sandwich</div>
                                <div class="snack-qty">x2</div>
                            </div>
                            <div class="summary-value">₹380</div>
                        </div>
                    </div>
                </div>
                >
                <!-- Total Section -->
                <div class="total-section">
                    <div class="subtotal-row">
                        <div class="subtotal-label">Subtotal:</div>
                        <div class="subtotal-value" id="subtotalValue">₹3080</div>
                    </div>
                    <div class="tax-row">
                        <div class="tax-label">GST (18%):</div>
                        <div class="tax-value" id="taxValue">₹266.22</div>
                    </div>
                    <div class="total-row">
                        <div class="total-label">Total:</div>
                        <div class="total-value" id="totalValue">₹3346.22</div>
                    </div>
                </div>
            </div>

            <!-- Payment Details Section -->
            <div class="payment-details">
                <h2 class="section-title">Payment Details</h2>
                
                <!-- Payment Methods -->
                <div class="payment-methods">
                    <div class="payment-method active" data-method="card">
                        <div class="payment-method-icon">
                            <i class="fas fa-credit-card"></i>
                        </div>
                        <div class="payment-method-name">Credit Card</div>
                        <div class="check-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>
                    <div class="payment-method" data-method="wallet">
                        <div class="payment-method-icon">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="payment-method-name">Wallet</div>
                        <div class="check-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>
                </div>
                
                <!-- Card Details (Default Payment Method) -->
                <div id="card-payment-form" class="payment-form active">
                    <!-- Card Animation -->
                    <div class="card-animation">
                        <div class="card" id="card">
                            <div class="card-face card-front">
                                <div class="card-chip"></div>
                                <div class="card-number" id="cardNumberDisplay">•••• •••• •••• ••••</div>
                                <div class="card-info">
                                    <div class="card-holder">
                                        <div class="card-holder-label">Card Holder</div>
                                        <div class="card-holder-name" id="cardHolderDisplay">guest</div>
                                    </div>
                                    <div class="card-expiry">
                                        <div class="card-expiry-label">Expires</div>
                                        <div class="card-expiry-date" id="cardExpiryDisplay">12/2030</div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-face card-back">
                                <div class="card-back-stripe"></div>
                                <div class="card-cvv" id="cardCvvDisplay">•••</div>
                                <div class="card-back-info">
                                    This card is property of CineLux Bank. Misuse is prohibited.
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Card Form -->
                    <div class="input-group">
                        <label class="input-label" for="cardNumber">Card Number</label>
                        <input type="text" id="cardNumber" class="input-field" placeholder="1234 5678 9012 3456" maxlength="19">
                        <div class="error-message" id="cardNumberError">Please enter a valid card number</div>
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label" for="cardHolder">Card Holder Name</label>
                        <input type="text" id="cardHolder" class="input-field" placeholder="JOHN SMITH">
                        <div class="error-message" id="cardHolderError">Please enter the card holder name</div>
                    </div>
                    
                    <div class="input-row">
                        <div class="input-group">
                            <label class="input-label" for="expiryDate">Expiry Date</label>
                            <input type="text" id="expiryDate" class="input-field" placeholder="MM/YY" maxlength="5">
                            <div class="error-message" id="expiryDateError">Please enter a valid expiry date</div>
                        </div>
                        
                        <div class="input-group">
                            <label class="input-label" for="cvv">CVV</label>
                            <input type="text" id="cvv" class="input-field" placeholder="123" maxlength="3">
                            <div class="error-message" id="cvvError">Please enter a valid CVV</div>
                        </div>
                    </div>
                </div>

                <!-- Wallet Form (Hidden by default) -->
                <div id="wallet-payment-form" class="payment-form" style="display: none;">
                    <div class="input-group">
                        <label class="input-label" for="walletSelect">Select Wallet</label>
                        <select id="walletSelect" class="input-field">
                            <option value="">Select your wallet</option>
                            <option value="paytm">Paytm</option>
                            <option value="phonepe">PhonePe</option>
                            <option value="amazonpay">Amazon Pay</option>
                            <option value="mobikwik">MobiKwik</option>
                        </select>
                        <div class="error-message" id="walletSelectError">Please select a wallet</div>
                    </div>
                    <div class="input-group">
                        <label class="input-label" for="walletMobile">Mobile Number</label>
                        <input type="text" id="walletMobile" class="input-field" placeholder="Enter your mobile number">
                        <div class="error-message" id="walletMobileError">Please enter a valid mobile number</div>
                    </div>
                </div>
                
                <button class="pay-btn" id="payBtn">Pay Now</button>


    </div>
    
    <!-- Loading Animation -->
    <div class="loading" id="loadingAnimation">
        <div class="loader"></div>
    </div>

<!-- Loading Animation -->
<div class="loading" id="loadingAnimation" style="display: none;">
    <div class="loader"></div>
</div>

<!-- Success Modal -->
<div class="modal" id="successModal" style="display: none;">
    <div class="modal-content">
        <h2 class="success-title">Payment Successful!</h2>
        <p class="success-message" id="confirmationMessage" style="display: none; font-size: 18px; color: green; text-align: center; font-weight: bold;">
        </p>
        <div class="success-details">
            <div class="success-detail-row">
                <div class="success-detail-label">Transaction ID:</div>
                <div class="success-detail-value" id="transactionId">CL25050712345</div>
            </div>
            <div class="success-detail-row">
                <div class="success-detail-label">Amount Paid:</div>
                <div class="success-detail-value" id="amountPaid">₹1745.22</div>
            </div>
            <div class="success-detail-row">
                <div class="success-detail-label">Date & Time:</div>
                <div class="success-detail-value" id="paymentDateTime">May 7, 2025, 02:30 PM</div>
            </div>
        </div>
        <button class="continue-btn" id="continueBtn">Continue to Home</button>
    </div>
</div>
            
        
    </div>
    <script>
        document.getElementById("payBtn").addEventListener("click", function () {
          window.location.href = "confirmation.html";
        });
      </script>
      
    <script>
        // Create particle background
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const numberOfParticles = 30;
            
            for (let i = 0; i < numberOfParticles; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // Random size between 5px and 20px
                const size = Math.random() * 15 + 5;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                // Random position
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                
                // Random animation delay
                particle.style.animationDelay = `${Math.random() * 8}s`;
                
                // Random opacity
                particle.style.opacity = `${Math.random() * 0.5 + 0.1}`;
                
                particlesContainer.appendChild(particle);
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize particles
            createParticles();
            
            // Get URL parameters for movie details
            const urlParams = new URLSearchParams(window.location.search);
            
            // Load booking data from localStorage if available
            const loadBookingData = () => {
                try {
                    // In a real implementation, you would get this data from localStorage, sessionStorage, or URL parameters
                    // For demo purposes, we'll use the hardcoded values or URL parameters if available
                    
                    const movieTitle = urlParams.get('title') || document.getElementById('summaryMovieTitle').textContent;
                    const bookingDate = urlParams.get('date') || document.getElementById('summaryDate').textContent;
                    const screen = urlParams.get('screen') || document.getElementById('summaryScreen').textContent;
                    const time = urlParams.get('time') || document.getElementById('summaryTime').textContent;
                    const seats = urlParams.get('seats') || document.getElementById('summarySeats').textContent;
                    const ticketPrice = urlParams.get('ticketPrice') || document.getElementById('summaryTicketPrice').textContent;
                    
                    // Update the summary with loaded data
                    document.getElementById('summaryMovieTitle').textContent = movieTitle;
                    document.getElementById('summaryDate').textContent = bookingDate;
                    document.getElementById('summaryScreen').textContent = screen;
                    document.getElementById('summaryTime').textContent = time;
                    document.getElementById('summarySeats').textContent = seats;
                    document.getElementById('summaryTicketPrice').textContent = ticketPrice;
                    
                    // Calculate and update totals
                    updateTotals();
                } catch (error) {
                    console.error('Error loading booking data:', error);
                }
            };
            
            // Load snacks data from localStorage if available
            const loadSnacksData = () => {
                try {
                    // In a real implementation, you would get this data from localStorage or sessionStorage
                    // For demo purposes, we'll keep the hardcoded values or use a simulated cart
                    
                    // Example of getting cart from localStorage in a real implementation:
                    // const cart = JSON.parse(localStorage.getItem('snacksCart')) || [];
                    
                    // For this demo, we'll use the existing items in the HTML
                    // If you want to update with dynamic content, uncomment this code:
                    
                    /*
                    const cart = [
                        { name: "Classic Popcorn Bucket", price: 299, quantity: 1 },
                        { name: "Large Soft Drink", price: 70, quantity: 2 }
                    ];
                    
                    const snacksContainer = document.getElementById('snacksSummaryItems');
                    snacksContainer.innerHTML = '';
                    
                    cart.forEach(item => {
                        const snackElement = document.createElement('div');
                        snackElement.classList.add('summary-snack-item');
                        
                        snackElement.innerHTML = `
                            <div class="snack-name-qty">
                                <div class="snack-name">${item.name}</div>
                                <div class="snack-qty">x${item.quantity}</div>
                            </div>
                            <div class="summary-value">₹${item.price * item.quantity}</div>
                        `;
                        
                        snacksContainer.appendChild(snackElement);
                    });
                    */
                    
                    // Update totals after loading snacks
                    updateTotals();
                } catch (error) {
                    console.error('Error loading snacks data:', error);
                }
            };
            
            // Calculate and update totals
            const updateTotals = () => {
                // Calculate ticket subtotal
                const ticketPriceText = document.getElementById('summaryTicketPrice').textContent;
                const convenienceFeeText = document.getElementById('summaryConvenienceFee').textContent;
                const ticketPrice = parseInt(ticketPriceText.replace('₹', '')) || 0;
                const convenienceFee = parseInt(convenienceFeeText.replace('₹', '')) || 0;
                
                // Calculate snacks subtotal
                let snacksTotal = 0;
                const snackItems = document.querySelectorAll('#snacksSummaryItems .summary-snack-item');
                
                snackItems.forEach(item => {
                    const priceText = item.querySelector('.summary-value').textContent;
                    const price = parseInt(priceText.replace('₹', '')) || 0;
                    snacksTotal += price;
                });
                
                // Calculate subtotal, tax, and final total
                const subtotal = ticketPrice + convenienceFee + snacksTotal;
                const tax = Math.round(subtotal * 0.18 * 100) / 100; // 18% GST rounded to 2 decimal places
                const total = subtotal + tax;
                
                // Update the displayed values
                document.getElementById('subtotalValue').textContent = `₹${subtotal}`;
                document.getElementById('taxValue').textContent = `₹${tax.toFixed(2)}`;
                document.getElementById('totalValue').textContent = `₹${total.toFixed(2)}`;
                
                // Update pay button text
                document.getElementById('payButton').textContent = `Pay ₹${total.toFixed(2)}`;
                
                // Update amount in success modal
                document.getElementById('amountPaid').textContent = `₹${total.toFixed(2)}`;
            };
            
            // Load initial data
            loadBookingData();
            loadSnacksData();
            
            // Card flip functionality
            const card = document.getElementById('card');
            const cvvInput = document.getElementById('cvv');
            
            if (card && cvvInput) {
                cvvInput.addEventListener('focus', function() {
                    card.classList.add('flipped');
                });
                
                cvvInput.addEventListener('blur', function() {
                    card.classList.remove('flipped');
                });
                
                // Card can also be flipped by clicking on it
                card.addEventListener('click', function() {
                    this.classList.toggle('flipped');
                });
            }
            
            // Payment method selection
            const paymentMethods = document.querySelectorAll('.payment-method');
            const paymentForms = {
                card: document.getElementById('card-payment-form'),
                upi: document.getElementById('upi-payment-form'),
                netbanking: document.getElementById('netbanking-payment-form'),
                wallet: document.getElementById('wallet-payment-form')
            };
            
            paymentMethods.forEach(method => {
                method.addEventListener('click', function() {
                    // Remove active class from all methods
                    paymentMethods.forEach(m => m.classList.remove('active'));
                    
                    // Add active class to clicked method
                    this.classList.add('active');
                    
                    // Hide all payment forms
                    Object.values(paymentForms).forEach(form => {
                        if (form) form.style.display = 'none';
                    });
                    
                    // Show the selected payment form
                    const methodName = this.getAttribute('data-method');
                    if (paymentForms[methodName]) {
                        paymentForms[methodName].style.display = 'block';
                    }
                });
            });
            
            // Card input formatting and live preview
            const cardNumberInput = document.getElementById('cardNumber');
            const cardHolderInput = document.getElementById('cardHolder');
            const expiryDateInput = document.getElementById('expiryDate');
            
            // Card number formatting
            if (cardNumberInput) {
                cardNumberInput.addEventListener('input', function(e) {
                    // Remove non-digit characters
                    let value = this.value.replace(/\D/g, '');
                    
                    // Add space after every 4 digits
                    let formattedValue = '';
                    for (let i = 0; i < value.length; i++) {
                        if (i > 0 && i % 4 === 0) {
                            formattedValue += ' ';
                        }
                        formattedValue += value[i];
                    }
                    
                    // Update input value
                    this.value = formattedValue;
                    
                    // Update card display
                    const cardNumberDisplay = document.getElementById('cardNumberDisplay');
                    if (cardNumberDisplay) {
                        if (value.length > 0) {
                            // Show only last 4 digits, mask the rest
                            let maskedNumber = '';
                            for (let i = 0; i < 16; i++) {
                                if (i < value.length) {
                                    if (i < 12) {
                                        maskedNumber += '•';
                                    } else {
                                        maskedNumber += value[i];
                                    }
                                } else {
                                    maskedNumber += '•';
                                }
                                
                                if ((i + 1) % 4 === 0 && i < 15) {
                                    maskedNumber += ' ';
                                }
                            }
                            cardNumberDisplay.textContent = maskedNumber;
                        } else {
                            cardNumberDisplay.textContent = '•••• •••• •••• ••••';
                        }
                    }
                });
            }
            
            // Card holder name formatting
            if (cardHolderInput) {
                cardHolderInput.addEventListener('input', function() {
                    // Convert to uppercase
                    this.value = this.value.toUpperCase();
                    
                    // Update card display
                    const cardHolderDisplay = document.getElementById('cardHolderDisplay');
                    if (cardHolderDisplay) {
                        cardHolderDisplay.textContent = this.value || 'YOUR NAME';
                    }
                });
            }
            
            // Expiry date formatting
            if (expiryDateInput) {
                expiryDateInput.addEventListener('input', function(e) {
                    // Remove non-digit characters
                    let value = this.value.replace(/\D/g, '');
                    
                    // Format as MM/YY
                    if (value.length > 2) {
                        value = value.substring(0, 2) + '/' + value.substring(2);
                    }
                    
                    // Update input value
                    this.value = value;
                    
                    // Update card display
                    const cardExpiryDisplay = document.getElementById('cardExpiryDisplay');
                    if (cardExpiryDisplay) {
                        cardExpiryDisplay.textContent = value || 'MM/YY';
                    }
                });
            }
            
            // CVV input and display
            if (cvvInput) {
                cvvInput.addEventListener('input', function() {
                    // Remove non-digit characters
                    this.value = this.value.replace(/\D/g, '');
                    
                    // Update card display
                    const cardCvvDisplay = document.getElementById('cardCvvDisplay');
                    if (cardCvvDisplay) {
                        if (this.value) {
                            let maskedCvv = '';
                            for (let i = 0; i < this.value.length; i++) {
                                maskedCvv += '•';
                            }
                            cardCvvDisplay.textContent = maskedCvv;
                        } else {
                            cardCvvDisplay.textContent = '•••';
                        }
                    }
                });
            }
            
            // Form validation
            const validateCardForm = () => {
                let isValid = true;
                
                // Validate card number
                const cardNumber = cardNumberInput?.value.replace(/\s/g, '') || '';
                if (cardNumber.length < 16) {
                    showError(cardNumberInput, 'cardNumberError', 'Please enter a valid 16-digit card number');
                    isValid = false;
                } else {
                    hideError(cardNumberInput, 'cardNumberError');
                }
                
                // Validate card holder
                const cardHolder = cardHolderInput?.value.trim() || '';
                if (cardHolder.length < 3) {
                    showError(cardHolderInput, 'cardHolderError', 'Please enter the card holder name');
                    isValid = false;
                } else {
                    hideError(cardHolderInput, 'cardHolderError');
                }
                
                // Validate expiry date
                const expiryDate = expiryDateInput?.value.trim() || '';
                if (!/^\d{2}\/\d{2}$/.test(expiryDate)) {
                    showError(expiryDateInput, 'expiryDateError', 'Please enter a valid expiry date (MM/YY)');
                    isValid = false;
                } else {
                    const [month, year] = expiryDate.split('/');
                    const currentDate = new Date();
                    const currentYear = currentDate.getFullYear() % 100;
                    const currentMonth = currentDate.getMonth() + 1;
                    
                    if (parseInt(year) < currentYear || (parseInt(year) === currentYear && parseInt(month) < currentMonth) || parseInt(month) > 12) {
                        showError(expiryDateInput, 'expiryDateError', 'Card has expired or date is invalid');
                        isValid = false;
                    } else {
                        hideError(expiryDateInput, 'expiryDateError');
                    }
                }
                
                // Validate CVV
                const cvv = cvvInput?.value.trim() || '';
                if (cvv.length < 3) {
                    showError(cvvInput, 'cvvError', 'Please enter a valid 3-digit CVV');
                    isValid = false;
                } else {
                    hideError(cvvInput, 'cvvError');
                }
                
                return isValid;
            };        
            const validateWalletForm = () => {
                let isValid = true;
                const walletSelect = document.getElementById('walletSelect');
                const selectedWallet = walletSelect?.value || '';
                
                if (!selectedWallet) {
                    showError(walletSelect, 'walletSelectError', 'Please select a wallet');
                    isValid = false;
                } else {
                    hideError(walletSelect, 'walletSelectError');
                }
                
                const walletMobileInput = document.getElementById('walletMobile');
                const walletMobile = walletMobileInput?.value.trim() || '';
                
                if (!/^\d{10}$/.test(walletMobile)) {
                    showError(walletMobileInput, 'walletMobileError', 'Please enter a valid 10-digit mobile number');
                    isValid = false;
                } else {
                    hideError(walletMobileInput, 'walletMobileError');
                }
                const showError = (inputElement, errorId, message) => {
                const errorElement = document.getElementById(errorId);
                if (inputElement && errorElement) {
                    inputElement.classList.add('error');
                    errorElement.textContent = message;
                    errorElement.style.display = 'block';
                }
            };
            
            const hideError = (inputElement, errorId) => {
                const errorElement = document.getElementById(errorId);
                if (inputElement && errorElement) {
                    inputElement.classList.remove('error');
                    errorElement.style.display = 'none';
                }
            };
            
            
            // Process payment
            const payButton = document.getElementById('payButton');
            const loadingAnimation = document.getElementById('loadingAnimation');
            const successModal = document.getElementById('successModal');
            document.addEventListener('DOMContentLoaded', function() {
    const payButton = document.getElementById('payButton');
    const successModal = document.getElementById('successModal');
    const confirmationMessage = document.getElementById('confirmationMessage');
    const loadingAnimation = document.getElementById('loadingAnimation');

    if (payButton) {
        payButton.addEventListener('click', function() {
            // Determine validation status
            let isValid = true;

            // Wallet payment validation (if applicable)
            const walletMobileInput = document.getElementById('walletMobile');
            if (walletMobileInput) {
                const walletMobile = walletMobileInput.value.trim();
                if (!/^\d{10}$/.test(walletMobile)) {
                    showError(walletMobileInput, 'walletMobileError', 'Please enter a valid 10-digit mobile number');
                    isValid = false;
                } else {
                    hideError(walletMobileInput, 'walletMobileError');
                }
            }

            console.log("Pay button clicked. Validation status:", isValid);

            if (isValid) {
                // Show loading animation
                if (loadingAnimation) {
                    loadingAnimation.style.display = 'flex';
                }

                setTimeout(() => {
                    // Hide loading animation
                    if (loadingAnimation) {
                        loadingAnimation.style.display = 'none';
                    }

                    // Generate transaction ID dynamically
                    const transactionIdElement = document.getElementById('transactionId');
                    if (transactionIdElement) {
                        const transactionId = 'CL' + new Date().toISOString().slice(2, 10).replace(/-/g, '') + Math.floor(10000 + Math.random() * 90000);
                        transactionIdElement.textContent = transactionId;
                    }

                    // Set current date and time
                    const paymentDateTimeElement = document.getElementById('paymentDateTime');
                    if (paymentDateTimeElement) {
                        const now = new Date();
                        const options = { year: 'numeric', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' };
                        paymentDateTimeElement.textContent = now.toLocaleDateString('en-US', options);
                    }

                    // Show success modal
                    if (successModal) {
                        successModal.style.display = 'flex';
                    }

                    // Display confirmation message
                    if (confirmationMessage) {
                        confirmationMessage.textContent = "✅ Your payment has been confirmed! Enjoy the show!";
                        confirmationMessage.style.display = 'block';
                    }
                }, 2000); // Simulated processing delay
            }
        });
    }

    // Error handling functions
    const showError = (inputElement, errorId, message) => {
        const errorElement = document.getElementById(errorId);
        if (inputElement && errorElement) {
            inputElement.classList.add('error');
            errorElement.textContent = message;
            errorElement.style.display = 'block';
        }
    };

    const hideError = (inputElement, errorId) => {
        const errorElement = document.getElementById(errorId);
        if (inputElement && errorElement) {
            inputElement.classList.remove('error');
            errorElement.style.display = 'none';
        }
    };
});
</script>
</body>
</html>